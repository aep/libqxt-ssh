<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QtExtendedLibrary: QxtPimpl Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">

<tr>
<td align="left" valign="top" width="32"><a href="http://libqxt.sourceforge.net"><img src="logo.png" align="left" 
width="32" height="32" border="0" /></a></td>

<td width="1">&nbsp;&nbsp;</td>

<td class="postheader" valign="center">

<a href="index.html">	<font color="#004faf">Home</font></a>&nbsp;&middot;
<a href="annotated.html">	<font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot;
<a href="classes.html">	<font color="#004faf">alphabetical&nbsp;Classes&nbsp;List</font></a>&nbsp;&middot;
<a href="modules.html">	<font color="#004faf">Modules</font></a>&nbsp;&middot;
<a href="functions.html"><font color="#004faf">Functions</font></a>&nbsp;&middot;
<a href="building.html"><font color="#004faf">Building</font></a>&nbsp;&middot;
<a href="https://sourceforge.net/project/showfiles.php?group_id=183158"><font color="#004faf">Download Snapshots</font></a>


</td>

<td align="right" valign="top" width="230"></td></tr>



</table>
<!-- Generated by Doxygen 1.5.1 -->
<h1>QxtPimpl Class Reference<br>
<small>
[<a class="el" href="group__core.html">Core</a>]</small>
</h1><!-- doxytag: class="QxtPimpl" -->hide implementaion with PIMPL  
<a href="#_details">More...</a>
<p>
<code>#include &lt;QxtPimpl&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
hide implementaion with PIMPL 
<p>
Application code generally doesn't have to be concerned about hiding its implementation details, but when writing library code it is important to maintain a constant interface, both source and binary. Maintaining a constant source interface is easy enough, but keeping the binary interface constant means moving implementation details into a private class. The PIMPL, or d-pointer, idiom is a common method of implementing this separation. <a class="el" href="classQxtPimpl.html">QxtPimpl</a> offers a convenient way to connect the public and private sides of your class. (header, example)<h2><a class="anchor" name="start">
Getting Started</a></h2>
Before you declare the public class, you need to make a forward declaration of the private class. The private class must have the same name as the public class, followed by the word Private. In the example above, the class is named MyTest so the private class is declared with: class MyTestPrivate;<h3><a class="anchor" name="pub">
The Public Class</a></h3>
Generally, you shouldn't keep any data members in the public class without a good reason. (The example above keeps a data member in the public class only for the sake of demonstration.) Functions that are part of the public interface should be declared in the public class, and functions that need to be available to subclasses (for calling or overriding) should be in the protected section of the public class. To connect the private class to the public class, include the QXT_DECLARE_PRIVATE macro in the private section of the public class. In the example above, the private class is connected as follows: private: QXT_DECLARE_PRIVATE(MyTest); Furthermore, if the private class needs to access the public class, include the QXT_INIT_PRIVATE macro in the public class's constructor. The example looks like this:<p>
<div class="fragment"><pre class="fragment">MyTest::MyTest() {
    <span class="comment">// initialization</span>
    QXT_INIT_PRIVATE(MyTest);
}
</pre></div><h3><a class="anchor" name="priv">
The Private Class</a></h3>
As mentioned above, data members should usually be kept in the private class. This allows the memory layout of the private class to change without breaking binary compatibility for the public class. Functions that exist only as implementation details, or functions that need access to private data members, should be implemented here. To allow the private class to access members of the public class, include the QXT_DECLARE_PUBLIC macro in the public section of the private class. Additionally, the private class needs to inherit some functionality from QxtPrivate. QxtPrivate is a template class, so your private class declaration should look something like this excerpt from the example: <div class="fragment"><pre class="fragment"><span class="keyword">class </span>MyTestPrivate : <span class="keyword">public</span> QxtPrivate&lt;MyTest&gt; {
<span class="keyword">public</span>:
    MyTestPrivate();
    QXT_DECLARE_PUBLIC(MyTest);

    <span class="comment">// rest of class declaration</span>
};
</pre></div> This is technically optional -- if your private class has no need to access the public class members at all, then the superclass inheritance, QXT_DECLARE_PUBLIC, and QXT_INIT_PRIVATE in the public class's constructor can be omitted. The qxt_p() function described below will be unavailable if you decide to do this. [edit] <h2><a class="anchor" name="cross">
Crossing the Boundary</a></h2>
Once the two classes are declared and connected, functions in the public class can use the qxt_d() function (actually a function-like object), which returns a reference to the private object. Similarly, should the private class wish to access the public class (for instance, to call a virtual function that might be overridden by a subclass), the qxt_p() function (this one's really a function) returns a reference back to the public object. [edit] <h2><a class="anchor" name="about">
About the Example</a></h2>
The example program demonstrates the use of <a class="el" href="classQxtPimpl.html">QxtPimpl</a>. It also demonstrates how a subclass can have its own independent private class without disturbing the superclass. The use of virtual functions is left as an exercise to the reader; a search of the Internet will provide further information about the PIMPL idiom. 
<p>
<address><hr />

<div align="center">

<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">(c) 2007<a href="http://libqxt.sf.net">A.Picciani and A.Higerd</a> LGPL</td>
<td width="40%" align="center"></td>
<td width="30%" align="right"><div align="right">libqxt 0.2</div></td>
</tr></table></div></address></body>

</html>


