<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>QtExtensionLibrary: QxtWebController Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>

<table border="0" cellpadding="0" cellspacing="0" width="100%">

<tr>
<td align="left" valign="top" width="32"><a href="http://libqxt.sourceforge.net"><img src="logo.png" align="left" 
width="32" height="32" border="0" /></a></td>

<td width="1">&nbsp;&nbsp;</td>

<td class="postheader" valign="center">

<a href="http://libqxt.sourceforge.net">	<font color="#004faf">Home</font></a>&nbsp;&middot;
<a href="annotated.html">	<font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot;
<a href="classes.html">	<font color="#004faf">alphabetical&nbsp;Classes&nbsp;List</font></a>&nbsp;&middot;
<a href="modules.html">	<font color="#004faf">Modules</font></a>&nbsp;&middot;
<a href="functions.html"><font color="#004faf">Functions</font></a>&nbsp;&middot;


</td>

<td align="right" valign="top" width="230"></td></tr>



</table>
<!-- Generated by Doxygen 1.5.1-20070219 -->
<h1  align="center">QxtWebController Class Reference<br>
<small>
[<a class="el" href="group__web.html">Web</a>]</small>
</h1><!-- doxytag: class="QxtWebController" -->The part of QxtWeb where your buisness logic code goes.  
<a href="#_details">More...</a>
<p>
<h3>Public Member Functions</h3>
<ul>
<li><a class="anchor" name="0d22a0eddec95ea6b342dcb150b39e4a"></a><!-- doxytag: member="QxtWebController::QxtWebController" ref="0d22a0eddec95ea6b342dcb150b39e4a" args="(QObject *parent, QString objectName=QString())" -->
<b>QxtWebController</b> (QObject *parent, QString objectName=QString())
</ul>
<h3>Protected Member Functions</h3>
<ul>
<li><a class="anchor" name="d626e498b8c071150f7926da89333da1"></a><!-- doxytag: member="QxtWebController::document" ref="d626e498b8c071150f7926da89333da1" args="()" -->
QTextStream &amp; <b>document</b> ()
<li><a class="anchor" name="de5921b4e3bf9bf99e17b8efc266a955"></a><!-- doxytag: member="QxtWebController::assign" ref="de5921b4e3bf9bf99e17b8efc266a955" args="(QString key, QString value)" -->
void <b>assign</b> (QString key, QString value)
</ul>
<h3>Protected Attributes</h3>
<ul>
<li><a class="anchor" name="071e3629fc84028f9131306cca68c170"></a><!-- doxytag: member="QxtWebController::POST" ref="071e3629fc84028f9131306cca68c170" args="" -->
QHash&lt; QString, QString &gt; <b>POST</b>
<li><a class="anchor" name="721d2705699f2aa3556f6e6a60bb15c7"></a><!-- doxytag: member="QxtWebController::SERVER" ref="721d2705699f2aa3556f6e6a60bb15c7" args="" -->
QHash&lt; QByteArray, QByteArray &gt; <b>SERVER</b>
</ul>
<h3>Friends</h3>
<ul>
<li><a class="anchor" name="655f0be94315b60c1a924c085aa37476"></a><!-- doxytag: member="QxtWebController::QxtWebApplicationWorker" ref="655f0be94315b60c1a924c085aa37476" args="" -->
class <b>QxtWebApplicationWorker</b>
</ul>
<hr><a name="_details"></a><h3>Detailed Description</h3>
The part of QxtWeb where your buisness logic code goes. 
<p>
The controllers name is determinated via qts objectName. reimplement this and add actions you want .<br>
<p>
An Action is a public slot that gets called when a request includes an action.<br>
<p>
<pre>
	http: //domain/controller/<b>action</b>
	</pre><p>
<br>
 in your implementation: <br>
<p>
<pre>
	public slots:
		int <b>action</b>()
			{
			return 0;
			}
	</pre><p>
a request without action goes to the index action. Don't forget to implement it.<br>
<p>
if you want the arguments to the request to be passed to your funtion, define them too<p>
<pre>
	http: //domain/controller/action/<b>helloWorld</b>
	</pre><p>
<br>
 in your implementation: <br>
<p>
<div class="fragment"><pre class="fragment">                <span class="keywordtype">int</span> action(QString parameter1)
                        {
                        parameter1==<span class="stringliteral">"helloWorld"</span>
                        <span class="keywordflow">return</span> 0;
                        }
</pre></div><p>
you can use an integer too, or whatever QVariant can be converted too.<br>
 In case you want a "catch all parameters" function, use a QStringList.<p>
<br>
<p>
<br>
 <br>
<p>
<h3>there are 3 ways to comunicate with the browser:</h3>
<p>
<br>
 <br>
<p>
<h4>the propably best way</h4>
<p>
is to use the MVC aproach and call assign(key,vale) then let the view render the html by returning a positive value. <br>
<p>
<div class="fragment"><pre class="fragment">                        <span class="keywordtype">int</span> action()
                                {
                                assign(<span class="stringliteral">"text"</span>,<span class="stringliteral">"hello world"</span>);
                                <span class="keywordflow">return</span> 0;
                                }
</pre></div><p>
the MVC automagic will search for the view fitting your action. this is (depending on your settings): ./app/view/controller/action.html and fill all ocurances of "&lt;?=text?&gt;" with "hello world". The syntax is based on php and will be extended with QScript as soon as it is released. <br>
 <br>
 <br>
<p>
<h4>the second way</h4>
<p>
is to write the html directly to the stream and return a negative value. <br>
 In this case no view is rendered. You will need to write the respone header too. if you just want a simple "200 FOUND" header, the standard one, you can use QXT_WEB_200.<p>
<div class="fragment"><pre class="fragment">                        <span class="keywordtype">int</span> action()
                                {
                                QXT_WEB_200
                                document()&lt;&lt;<span class="stringliteral">"hello world"</span>;
                                <span class="keywordflow">return</span> -1;
                                }
</pre></div><p>
<br>
 <br>
 <br>
<p>
<h4>the third way</h4>
<p>
is to use a different view then the proposed one.<p>
<div class="fragment"><pre class="fragment">                        <span class="keywordtype">int</span> action()
                                {
                                QXT_WEB_200
                                QxtHtmlTemplate view;
                                view.open(<span class="stringliteral">"./app/view/controller/myotherview.html"</span>);
                                view.assign(<span class="stringliteral">"text"</span>,<span class="stringliteral">"hello world"</span>);
                                document()&lt;&lt;view.render();
                                <span class="keywordflow">return</span> -2;
                                }
</pre></div> 
<p>
<address><hr />

<div align="center">

<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">(c) 2007<a href="http://libqxt.sf.net">A.Picciani and A.Higerd</a> LGPL</td>
<td width="40%" align="center"></td>
<td width="30%" align="right"><div align="right">libqxt 0.2</div></td>
</tr></table></div></address></body>

</html>


